<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 
</head>

<body>
  <div id="box" style="float: left;margin-right: 20px;"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
    ;
    (function ($, win, moment) {
      var SelectTime = function (box, arr, fn) {
        this.time = moment();
        this.box = box[0];
        this.rederUi(arr, fn);
        this.handler(fn);
      }
      SelectTime.prototype = {
        rederUi: function (arr) {
          var html = this.setDay(arr)
          this.box.innerHTML = html;
        },
        setDay: function (arr) {
          var ret = [],
            len = arr.length,
            i;
          for (i = 0; i < len; i++) {
            ret.push(this.time.subtract(arr[i], "day").format('YYYY-MM-DD'))
          }
          return this.drawSelection(ret)
        },
        drawSelection: function (ret) {
          var html = "",
            len = ret.length,
            i;
          html = '<select id="mySelecte" value="' + ret[0] + '">'
          for (i = 0; i < len; i++) {
            html += '<option value="">' + ret[i] + '</option>'
          }
          html += '</select>'
          return html;
        },
        handler: function (fn) {
          var select = document.getElementById('mySelecte');
          fn && (select.onchange = fn)
        }
      }
      window.SelectTime = SelectTime;
    })($, window, moment);
    $(document).ready(function () {
      var select = new SelectTime($("#box"), [3, 6, 8]);
      $("#box").change(function () {
        console.log($("#box").find("option:selected").text())
      })
    })
  </script>
</body>

</html>