<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>享元模式3-享元模式与DOM</title>
</head>

<body>
  <h1>例1：事件集中管理</h1>
  <div id="container">
    <div class="toggle" href="#">更多信息 (地址)
      <span class="info">
          这里是更多信息
       </span></div>
    <div class="toggle" href="#">更多信息 (地图)
      <span class="info">
          <iframe src="http://www.baidu.com"></iframe>
       </span>
    </div>
  </div>
  <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>
    stateManager = {
      fly: function () {
        var self = this;
        $('#container').unbind().bind("click", function (e) {
          var target = $(e.originalTarget || e.srcElement);
          // 判断是哪一个子元素
          if (target.is("div.toggle")) {
            self.handleClick(target);
          }
        });
      },

      handleClick: function (elem) {
        elem.find('span').toggle('slow');
      }
    };
  </script>
</body>

</html>